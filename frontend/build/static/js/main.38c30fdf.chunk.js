(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{116:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(27),a=r.n(c),s=(r(86),r(87),r(121)),i=r(10),o=r(18),d=r(122),l=r(71),j=r(0),u=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"mt-5"}),Object(j.jsx)("footer",{children:Object(j.jsx)(s.a,{children:Object(j.jsx)(d.a,{children:Object(j.jsxs)(l.a,{className:"text-center py-3",children:["Copyright \xa9 SavvyCart ",(new Date).getFullYear()]})})})})]})},h=r(7),b=r(8),p=r.n(b),O=r(12),x=function(e,t){return{type:e,payload:t.response&&t.response.data.message?t.response.data.message:t.message}},m=r(13),f=r.n(m),v="USER_AUTH_REQUEST",g="USER_AUTH_SUCCESS",y="USER_AUTH_FAIL",E="USER_DEAUTH_REQUEST",S="USER_DEAUTH_SUCCESS",I="USER_DEAUTH_FAIL",C="USER_REGISTER_REQUEST",_="USER_REGISTER_SUCCESS",R="USER_REGISTER_FAIL",A="USER_PROFILE_REQUEST",k="USER_PROFILE_SUCCESS",T="USER_PROFILE_FAIL",L="USER_UPDATE_PROFILE_REQUEST",P="USER_UPDATE_PROFILE_SUCCESS",w="USER_UPDATE_PROFILE_FAIL",D="USER_UPDATE_PROFILE_RESET",U="USER_LIST_REQUEST",N="USER_LIST_SUCCESS",F="USER_LIST_FAIL",G="USER_DELETE_REQUEST",M="USER_DELETE_SUCCESS",B="USER_DELETE_FAIL",Q="USER_DELETE_RESET",q="USER_UPDATE_REQUEST",$="USER_UPDATE_SUCCESS",z="USER_UPDATE_FAIL",V="USER_UPDATE_RESET",Y={headers:{"Content-Type":"application/json"}},J=r(129),H=r(131),W=r(126),K=r(16),X=r(9),Z=r(127),ee=r(73),te=function(){var e=Object(o.k)(),t=Object(n.useState)(""),r=Object(X.a)(t,2),c=r[0],a=r[1];return Object(j.jsxs)(Z.a,{onSubmit:function(t){t.preventDefault(),c.trim()?e.push("/search/".concat(c)):e.push("/"),a("")},inline:!0,children:[Object(j.jsx)(Z.a.Control,{type:"text",name:"q",onChange:function(e){return a(e.target.value)},placeholder:"Search Products...",className:"mr-sm-2 ml-sm-5"}),Object(j.jsx)(ee.a,{type:"submit",variant:"outline-success",className:"p-2",children:"Search"})]})},re=Object(o.o)((function(e){var t=e.history,r=Object(h.b)(),n=Object(h.c)((function(e){return e.cart})).cartItems,c=Object(h.c)((function(e){return e.userAuth})).userInfo,a=function(){r(function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:E}),t({type:S})}catch(r){t(x(I,r))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.push("/login")};return Object(j.jsx)("header",{children:Object(j.jsx)(J.a,{bg:"primary",variant:"dark",expand:"lg",children:Object(j.jsxs)(s.a,{children:[Object(j.jsx)(i.Link,{to:"/",children:Object(j.jsx)(J.a.Brand,{children:"SavvyCart"})}),Object(j.jsx)(J.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsxs)(J.a.Collapse,{id:"basic-navbar-nav",children:[Object(j.jsx)(te,{}),Object(j.jsxs)(H.a,{className:"ml-auto",children:[Object(j.jsx)(i.Link,{to:"/cart",children:Object(j.jsxs)("div",{className:"nav-link",children:["Cart (",n.length,")"]})}),c?Object(j.jsxs)(W.a,{title:c.name,id:"username",children:[Object(j.jsx)(K.LinkContainer,{to:"/profile",children:Object(j.jsx)(W.a.Item,{children:"Profile"})}),Object(j.jsx)(W.a.Item,{onClick:function(){return a()},children:"Logout"})]}):Object(j.jsx)(i.Link,{to:"/login",children:Object(j.jsx)("div",{className:"nav-link",children:"Sign In"})}),c&&c.isAdmin&&Object(j.jsxs)(W.a,{title:"Admin",id:"adminMenu",children:[Object(j.jsx)(K.LinkContainer,{to:"/admin/userlist",children:Object(j.jsx)(W.a.Item,{children:"Users"})}),Object(j.jsx)(K.LinkContainer,{to:"/admin/productlist",children:Object(j.jsx)(W.a.Item,{children:"Products"})}),Object(j.jsx)(K.LinkContainer,{to:"/admin/orderlist",children:Object(j.jsx)(W.a.Item,{children:"Orders"})})]})]})]})]})})})})),ne=r(11),ce=r(81),ae=r(130),se=function(e){var t=e.variant,r=e.children;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(ae.a,{variant:t,children:r})})};se.defaultProps={variant:"info"};var ie=se,oe=function(e){var t=e.path,r=e.component,n=(e.location,Object(ce.a)(e,["path","component","location"])),c=Object(o.l)(),a=c.pathname.includes("/admin"),s=Object(h.c)((function(e){return e.userAuth})).userInfo;return s&&s.isAdmin?Object(j.jsx)(o.d,Object(ne.a)({path:t,component:r},n)):c&&a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"mt-5"}),Object(j.jsx)(ie,{variant:"danger",children:"Unauthorized access, you are not admin."}),Object(j.jsx)(K.LinkContainer,{to:"/",children:Object(j.jsx)(ee.a,{variant:"primary",children:"Go home"})})]}):""},de="PRODUCT_LIST_REQUEST",le="PRODUCT_LIST_SUCCESS",je="PRODUCT_LIST_FAIL",ue="PRODUCT_DETAILS_REQUEST",he="PRODUCT_DETAILS_SUCCESS",be="PRODUCT_DETAILS_FAIL",pe="PRODUCT_DETAILS_FAIL",Oe="PRODUCT_CREATE_REQUEST",xe="PRODUCT_CREATE_SUCCESS",me="PRODUCT_CREATE_FAIL",fe="PRODUCT_CREATE_RESET",ve="PRODUCT_UPDATE_REQUEST",ge="PRODUCT_UPDATE_SUCCESS",ye="PRODUCT_UPDATE_FAIL",Ee="PRODUCT_UPDATE_RESET",Se="PRODUCT_CREATE_REVIEW_REQUEST",Ie="PRODUCT_CREATE_REVIEW_SUCCESS",Ce="PRODUCT_CREATE_REVIEW_FAIL",_e="PRODUCT_CREATE_REVIEW_RESET",Re="PRODUCT_DELETE_REQUEST",Ae="PRODUCT_DELETE_SUCCESS",ke="PRODUCT_DELETE_FAIL",Te="PRODUCT_DELETE_RESET",Le="PRODUCT_LIST_TOPRATED_REQUEST",Pe="PRODUCT_LIST_TOPRATED_SUCCESS",we="PRODUCT_LIST_TOPRATED_FAIL",De={headers:{"Content-Type":"application/json"}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var r=Object(O.a)(p.a.mark((function r(n){var c,a;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:de}),r.next=4,f.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:c=r.sent,a=c.data,n({type:le,payload:a}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),n(x(je,r.t0));case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Ne=function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ue}),t.next=4,f.a.get("/api/products/".concat(e));case 4:n=t.sent,r({type:he,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r(x(be,t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Fe=r(132),Ge=function(e){var t=e.value,r=e.numReviews,n=[1,2,3,4,5].map((function(e){return t>=e?Object(j.jsx)("i",{className:"fas fa-star"},e):t>=e-.5?Object(j.jsx)("i",{className:"fas fa-star-half-alt"},e):Object(j.jsx)("i",{className:"far fa-star"},e)}));return Object(j.jsxs)("div",{style:{color:"orange"},children:[n,Object(j.jsxs)("span",{className:"ml-2",style:{color:"black"},children:[r," reviews"]})]})},Me=function(e){var t=e.item;return Object(j.jsxs)(Fe.a,{className:"my-3 p-3 rounded",children:[Object(j.jsx)(i.Link,{to:"/product/".concat(t._id),children:Object(j.jsx)(Fe.a.Img,{src:t.image,variant:"top"})}),Object(j.jsxs)(Fe.a.Body,{children:[Object(j.jsx)(i.Link,{to:"/product/".concat(t._id),children:Object(j.jsx)(Fe.a.Title,{as:"div",children:t.name})}),Object(j.jsx)(Fe.a.Text,{as:"div",children:Object(j.jsx)(Ge,{value:t.rating,numReviews:t.numReviews})}),Object(j.jsxs)(Fe.a.Text,{as:"h3",className:"mt-2",children:["$",t.price]})]})]})},Be=r(75),Qe=function(e){var t=e.title,r=e.desc,n=e.keywords;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(Be.a,{children:[Object(j.jsx)("title",{children:t}),Object(j.jsx)("meta",{name:"description",content:r}),Object(j.jsx)("meta",{name:"keywords",content:n})]})})};Qe.defaultProps={title:"Welcome to SavvyCart",desc:"eCommerce platform created with React. Savvyshell.com",keywords:"savvycart, ecommerce, savvyshell"};var qe=Qe,$e=r(123),ze=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)($e.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(j.jsx)("span",{className:"sr-only",children:"Loading..."})})})},Ve=r(30),Ye=r(133),Je=function(e){var t=e.pages,r=e.page,n=e.isAdmin,c=void 0!==n&&n,a=e.keyword,s=void 0===a?"":a;return t>1&&Object(j.jsx)(Ye.a,{children:Object(Ve.a)(Array(t).keys()).map((function(e){return Object(j.jsx)(K.LinkContainer,{to:c?"/admin/productlist/".concat(e+1):s?"/search/".concat(s,"/page/").concat(e+1):"/page/".concat(e+1),children:Object(j.jsx)(Ye.a.Item,{active:e+1===r,children:e+1})},e+1)}))})},He=r(128),We=r(124),Ke=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.productListTopRated})),r=t.loading,c=t.error,a=t.products;return Object(n.useEffect)((function(){e(function(){var e=Object(O.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Le}),e.next=4,f.a.get("/api/products/toprated");case 4:r=e.sent,n=r.data,t({type:Pe,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(x(we,e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),r?Object(j.jsx)(ze,{}):c?Object(j.jsx)(ie,{variant:"danger",children:c}):Object(j.jsx)(He.a,{pause:"hover",className:"bg-dark mb-5",fade:!0,children:a.map((function(e){return Object(j.jsx)(He.a.Item,{children:Object(j.jsxs)(i.Link,{to:"/product/".concat(e._id),children:[Object(j.jsx)(He.a.Caption,{className:"carousel-caption",children:Object(j.jsxs)("h2",{children:[e.name," ($",e.price,")"]})}),Object(j.jsx)(We.a,{src:e.image,alt:e.name,fluid:!0})]})},e._id)}))})},Xe=function(e){var t=e.match,r=t.params.keyword,c=t.params.pageNumber||1,a=Object(h.b)(),s=Object(h.c)((function(e){return e.productList})),o=s.loading,u=s.error,b=s.products,p=s.page,O=s.pages;return Object(n.useEffect)((function(){a(Ue(r,c))}),[a,r,c]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(qe,{}),Object(j.jsxs)("div",{className:"mt-5",children:[r?Object(j.jsx)(i.Link,{to:"/",className:"btn btn-light",children:"Go Back"}):Object(j.jsx)(Ke,{}),Object(j.jsx)("h3",{className:"mb-0",children:"Products"}),o?Object(j.jsx)(ze,{}):u?Object(j.jsx)(ie,{variant:"danger",children:u}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d.a,{children:b.map((function(e){return Object(j.jsx)(l.a,{className:"d-flex align-items-stretch",sm:12,md:6,lg:4,xl:3,children:Object(j.jsx)(Me,{item:e})},e._id)}))}),Object(j.jsx)(Je,{pages:O,page:p,keyword:r||""})]})]})]})},Ze="CART_ADD_REQUEST",et="CART_ADD_SUCCESS",tt="CART_ADD_FAIL",rt="CART_REMOVE_REQUEST",nt="CART_REMOVE_SUCCESS",ct="CART_REMOVE_FAIL",at="CART_CLEAR",st="CART_SAVE_SHIPPING_SUCCESS",it="CART_SAVE_PAYMENT_METHOD",ot=function(e,t){return function(){var r=Object(O.a)(p.a.mark((function r(n){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{n({type:Ze}),n({type:et,payload:{product:Object(ne.a)(Object(ne.a)({},e),{},{product:e._id},t)}})}catch(c){n(x(tt,c))}case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},dt=r(134),lt=function(e){var t=e.match,r=e.history,c=Object(n.useState)(1),a=Object(X.a)(c,2),s=a[0],o=a[1],u=Object(n.useState)(0),b=Object(X.a)(u,2),m=b[0],v=b[1],g=Object(n.useState)(""),y=Object(X.a)(g,2),E=y[0],S=y[1],I=Object(n.useState)(!0),C=Object(X.a)(I,2),_=C[0],R=C[1],A=Object(h.b)(),k=t.params.id,T=Object(h.c)((function(e){return e.userAuth})).userInfo,L=Object(h.c)((function(e){return e.productDetails})),P=L.error,w=L.loading,D=L.product,U=Object(h.c)((function(e){return e.productReviewCreate})),N=U.loading,F=U.error,G=U.success;Object(n.useEffect)((function(){return function(){A({type:pe}),A({type:_e})}}),[A]),Object(n.useEffect)((function(){!D||D._id!==k||G?(R(!0),A(Ne(k))):(R(!1),G&&(alert("Review Submitted!"),v(0),S(""),A({type:_e})))}),[k,A,D,G]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.Link,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),w&&_?Object(j.jsx)(ze,{}):P?Object(j.jsx)(ie,{variant:"danger",children:P}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(qe,{title:D.name}),Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{lg:6,children:Object(j.jsx)(We.a,{src:D.image,alt:D.name,fluid:!0})}),Object(j.jsx)(l.a,{lg:3,children:Object(j.jsxs)(dt.a,{variant:"flush",children:[Object(j.jsx)(dt.a.Item,{children:Object(j.jsx)("h3",{children:D.name})}),Object(j.jsx)(dt.a.Item,{children:Object(j.jsx)(Ge,{value:D.rating,numReviews:D.numReviews})}),Object(j.jsxs)(dt.a.Item,{children:["Price: $",D.price]}),Object(j.jsxs)(dt.a.Item,{children:["Description: ",D.description]})]})}),Object(j.jsx)(l.a,{lg:3,children:Object(j.jsx)(Fe.a,{children:Object(j.jsxs)(dt.a,{variant:"flush",children:[Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Price:"}),Object(j.jsx)(l.a,{children:Object(j.jsxs)("strong",{children:["$",D.price]})})]})}),Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Status:"}),Object(j.jsx)(l.a,{children:Object(j.jsx)("strong",{children:D.countInStock>0?"In Stock":"Out of Stock"})})]})}),D.countInStock>0&&Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Qty"}),Object(j.jsx)(l.a,{children:Object(j.jsx)(Z.a.Control,{as:"select",style:{padding:"0 0",height:"20px",width:"70%"},value:s,onChange:function(e){return o(e.target.value)},children:Object(Ve.a)(Array(D.countInStock).keys()).map((function(e){return Object(j.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(j.jsx)(dt.a.Item,{children:Object(j.jsx)(ee.a,{type:"button",disabled:0===D.countInStock,block:!0,onClick:function(){return function(e,t){A(ot(e,t)),r.push("/cart")}(D,{qty:s})},children:"Add To Cart"})})]})})})]}),Object(j.jsx)("hr",{}),Object(j.jsx)(d.a,{className:"mt-3",children:Object(j.jsxs)(l.a,{md:6,children:[Object(j.jsx)("h3",{children:"Reviews"}),0===D.reviews.length&&Object(j.jsx)(ie,{children:"No Reviews"}),Object(j.jsxs)(dt.a,{variant:"flush",children:[D.reviews.map((function(e){return Object(j.jsxs)(dt.a.Item,{children:[Object(j.jsx)("strong",{children:e.name}),Object(j.jsx)(Ge,{value:e.rating}),Object(j.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(j.jsx)("p",{children:e.comment})]},e._id)})),Object(j.jsxs)(dt.a.Item,{children:[Object(j.jsx)("h2",{children:"Write a Customer Review"}),N&&Object(j.jsx)(ze,{}),F&&Object(j.jsx)(ie,{variant:"danger",children:F}),T?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(Z.a,{onSubmit:function(e){var r,n;e.preventDefault(),A((r=t.params.id,n={rating:m,comment:E},function(){var e=Object(O.a)(p.a.mark((function e(t,c){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Se}),a=c().userAuth.userInfo.token,De.headers.authorization="Bearer ".concat(a),e.next=6,f.a.post("/api/products/".concat(r,"/reviews"),n,De);case 6:t({type:Ie}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(x(Ce,e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(j.jsxs)(Z.a.Group,{controlId:"rating",children:[Object(j.jsx)(Z.a.Label,{children:"Rating"}),Object(j.jsxs)(Z.a.Control,{as:"select",value:m,onChange:function(e){return v(e.target.value)},children:[Object(j.jsx)("option",{value:"",children:"Select..."}),Object(j.jsx)("option",{value:"1",children:"1 - Poor"}),Object(j.jsx)("option",{value:"2",children:"2 - Fair"}),Object(j.jsx)("option",{value:"3",children:"3 - Good"}),Object(j.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(j.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(j.jsxs)(Z.a.Group,{controlId:"comment",children:[Object(j.jsx)(Z.a.Label,{children:"Comment"}),Object(j.jsx)(Z.a.Control,{as:"textarea",row:"3",value:E,onChange:function(e){return S(e.target.value)}})]}),Object(j.jsx)(ee.a,{type:"submit",variant:"primary",children:"Submit"})]})}):Object(j.jsxs)(ie,{variant:"warning",children:["Please ",Object(j.jsx)(i.Link,{to:"/login",children:"login"})," to write a review"]})]})]})]})})]})]})},jt=function(e){var t=e.history,r=Object(h.b)(),n=Object(h.c)((function(e){return e.cart})).cartItems,c=function(e){r(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r({type:rt}),r({type:nt,payload:{product:Object(ne.a)(Object(ne.a)({},e),{},{product:e._id})}})}catch(n){r(x(ct,n))}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(j.jsxs)("div",{className:"mt-5",children:[Object(j.jsx)("h3",{children:"Cart"}),Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:8,children:0===n.length?Object(j.jsxs)(ie,{children:["Your cart is empty ",Object(j.jsx)(i.Link,{to:"/",children:"Go Back"})]}):Object(j.jsx)(dt.a,{variant:"flush",children:n.map((function(e){return Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:2,children:Object(j.jsx)(We.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(j.jsx)(l.a,{md:3,children:Object(j.jsx)(i.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(j.jsx)(l.a,{md:2,children:e.price}),Object(j.jsx)(l.a,{md:2,children:Object(j.jsx)(Z.a.Control,{as:"select",style:{padding:"0 0",height:"20px",width:"70%"},value:e.qty,onChange:function(t){return r(ot(e,{qty:t.target.value}))},children:Object(Ve.a)(Array(e.countInStock).keys()).map((function(e){return Object(j.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(j.jsx)(l.a,{md:2,children:Object(j.jsx)(ee.a,{style:{padding:"0 1.25rem"},type:"button",variant:"light",onClick:function(){return c(e)},children:Object(j.jsx)("i",{className:"fas fa-trash"})})})]})},e._id)}))})}),Object(j.jsx)(l.a,{md:4,children:Object(j.jsx)(Fe.a,{children:Object(j.jsxs)(dt.a.Item,{variant:"flush",children:[Object(j.jsxs)(dt.a.Item,{children:[Object(j.jsxs)("h4",{children:["Subtotal (",n.reduce((function(e,t){return e+parseInt(t.qty)}),0),") items"]}),Object(j.jsxs)("h5",{children:["$ ",n.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]})]}),Object(j.jsx)(dt.a.Item,{children:Object(j.jsx)(ee.a,{type:"button",className:"btn-block",disabled:0===n.length,onClick:function(){t.push("/shipping")},children:"Proceed To Checkout"})})]})})})]})]})},ut=function(e){var t=e.children;return Object(j.jsx)(s.a,{children:Object(j.jsx)(d.a,{className:"justify-content-md-center",children:Object(j.jsx)(l.a,{xs:12,md:6,children:t})})})},ht=function(e){var t=e.history,r=Object(h.b)(),c=Object(n.useState)(""),a=Object(X.a)(c,2),s=a[0],o=a[1],u=Object(n.useState)(""),b=Object(X.a)(u,2),m=b[0],E=b[1],S=Object(h.c)((function(e){return e.userAuth})),I=S.loading,C=S.error,_=S.userInfo;Object(n.useEffect)((function(){_&&t.push("/")}),[_,t]);return Object(j.jsx)("div",{className:"mt-5",children:Object(j.jsxs)(ut,{children:[Object(j.jsx)("h3",{children:"Login"}),I?Object(j.jsx)(ze,{}):C?Object(j.jsx)(ie,{variant:"danger",children:C}):"",Object(j.jsxs)(Z.a,{onSubmit:function(e){e.preventDefault(),r(function(e,t){return function(){var r=Object(O.a)(p.a.mark((function r(n){var c;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:v}),r.next=4,f.a.post("/api/users/login",{email:e,password:t},Y);case 4:c=r.sent,n({type:g,payload:c.data}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),n(x(y,r.t0));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(s,m))},children:[Object(j.jsxs)(Z.a.Group,{controlId:"email",children:[Object(j.jsx)(Z.a.Label,{children:"Email Address"}),Object(j.jsx)(Z.a.Control,{type:"email",placeholder:"Enter Email",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"password",children:[Object(j.jsx)(Z.a.Label,{children:"Password"}),Object(j.jsx)(Z.a.Control,{type:"password",placeholder:"Enter Password",value:m,onChange:function(e){return E(e.target.value)}})]}),Object(j.jsx)(ee.a,{type:"submit",variant:"primary",children:"Login"})]}),Object(j.jsx)(d.a,{className:"py-3",children:Object(j.jsxs)(l.a,{children:["New Customer?"," ",Object(j.jsx)(i.Link,{to:"/register",children:"Register"})]})})]})})},bt=function(e){var t=e.history,r=Object(h.b)(),c=Object(n.useState)(""),a=Object(X.a)(c,2),s=a[0],o=a[1],u=Object(n.useState)(""),b=Object(X.a)(u,2),m=b[0],v=b[1],g=Object(n.useState)(""),y=Object(X.a)(g,2),E=y[0],S=y[1],I=Object(n.useState)(""),A=Object(X.a)(I,2),k=A[0],T=A[1],L=Object(n.useState)(null),P=Object(X.a)(L,2),w=P[0],D=P[1],U=Object(h.c)((function(e){return e.userAuth})),N=U.loading,F=U.error,G=U.userInfo;Object(n.useEffect)((function(){G&&t.push("/profile")}),[r,G,t]);var M=function(e){e.preventDefault(),E!==k||E.length<=0||k.length<=0?D("Passwords do not match or are empty"):s.length<=0||m.length<=0?D("One or more fields are empty"):r(function(e,t,r){return function(){var n=Object(O.a)(p.a.mark((function n(c){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:C}),n.next=4,f.a.post("/api/users",{name:e,email:t,password:r},Y);case 4:a=n.sent,c({type:_,payload:a.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),c(x(R,n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(s,m,E))};return Object(j.jsx)("div",{className:"mt-5",children:Object(j.jsxs)(ut,{children:[Object(j.jsx)("h3",{children:"Register"}),w&&Object(j.jsx)(ie,{variant:"danger",children:w}),F&&Object(j.jsx)(ie,{variant:"danger",children:F}),N&&Object(j.jsx)(ze,{}),Object(j.jsxs)(Z.a,{onSubmit:M,children:[Object(j.jsxs)(Z.a.Group,{controlId:"name",children:[Object(j.jsx)(Z.a.Label,{children:"Name"}),Object(j.jsx)(Z.a.Control,{type:"name",placeholder:"Enter Name",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"email",children:[Object(j.jsx)(Z.a.Label,{children:"Email Address"}),Object(j.jsx)(Z.a.Control,{type:"email",placeholder:"Enter Email",value:m,onChange:function(e){return v(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"password",children:[Object(j.jsx)(Z.a.Label,{children:"Password"}),Object(j.jsx)(Z.a.Control,{type:"password",placeholder:"Enter Password",value:E,onChange:function(e){return S(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"confirmPassword",children:[Object(j.jsx)(Z.a.Label,{children:"Password"}),Object(j.jsx)(Z.a.Control,{type:"password",placeholder:"Confirm Password",value:k,onChange:function(e){return T(e.target.value)}})]}),Object(j.jsx)(ee.a,{onClick:M,type:"submit",variant:"primary",children:"Register"})]}),Object(j.jsx)(d.a,{className:"py-3",children:Object(j.jsxs)(l.a,{children:["Have an account?"," ",Object(j.jsx)(i.Link,{to:"/login",children:"Login"})]})})]})})},pt="ORDER_CREATE_REQUEST",Ot="ORDER_CREATE_SUCCESS",xt="ORDER_CREATE_FAIL",mt="ORDER_CREATE_RESET",ft="ORDER_DETAILS_REQUEST",vt="ORDER_DETAILS_SUCCESS",gt="ORDER_DETAILS_FAIL",yt="ORDER_DETAILS_RESET",Et="ORDER_PAY_REQUEST",St="ORDER_PAY_SUCCESS",It="ORDER_PAY_FAIL",Ct="ORDER_PAY_RESET",_t="ORDER_MY_LIST_REQUEST",Rt="ORDER_MY_LIST_SUCCESS",At="ORDER_MY_LIST_FAIL",kt="ORDER_MY_LIST_RESET",Tt="ORDER_LIST_REQUEST",Lt="ORDER_LIST_SUCCESS",Pt="ORDER_LIST_FAIL",wt="ORDER_DELIVER_REQUEST",Dt="ORDER_DELIVER_SUCCESS",Ut="ORDER_DELIVER_FAIL",Nt="ORDER_DELIVER_RESET",Ft={headers:{"Content-Type":"application/json"}},Gt=r(125),Mt=function(e){var t=e.history,r=Object(h.b)(),c=Object(h.c)((function(e){return e.userAuth})).userInfo,a=Object(h.c)((function(e){return e.userProfile})),s=a.loading,i=a.error,o=a.profile,u=a.success,b=Object(h.c)((function(e){return e.orderMyList})),m=b.loading,v=b.error,y=b.myOrders,E=Object(n.useState)(""),S=Object(X.a)(E,2),I=S[0],C=S[1],_=Object(n.useState)(""),R=Object(X.a)(_,2),U=R[0],N=R[1],F=Object(n.useState)(""),G=Object(X.a)(F,2),M=G[0],B=G[1],Q=Object(n.useState)(""),q=Object(X.a)(Q,2),$=q[0],z=q[1],V=Object(n.useState)(null),J=Object(X.a)(V,2),H=J[0],W=J[1];Object(n.useEffect)((function(){var e;c?o?(C(o.name),N(o.email)):(r((e=c._id,function(){var t=Object(O.a)(p.a.mark((function t(r,n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:A}),c=n().userAuth.userInfo.token,Y.headers.authorization="Bearer ".concat(c),t.next=6,f.a.get("/api/users/profile/".concat(e),Y);case 6:a=t.sent,r({type:k,payload:a.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r(x(T,t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}())),r(function(){var e=Object(O.a)(p.a.mark((function e(t,r){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:_t}),n=r().userAuth.userInfo.token,Ft.headers.authorization="Bearer ".concat(n),e.next=6,f.a.get("/api/orders/myorders",Ft);case 6:c=e.sent,t({type:Rt,payload:c.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t(x(At,e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}())):t.push("/login")}),[r,c,o,t]),Object(n.useLayoutEffect)((function(){return function(){r(function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:D});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[r]);return Object(j.jsx)("div",{className:"mt-5",children:Object(j.jsxs)(d.a,{children:[Object(j.jsxs)(l.a,{md:3,children:[Object(j.jsx)("h2",{children:"Profile"}),H&&Object(j.jsx)(ie,{variant:"danger",children:H}),!H&&u&&Object(j.jsx)(ie,{variant:"success",children:"Profile Updated"}),s?Object(j.jsx)(ze,{}):i?Object(j.jsx)(ie,{variant:"danger",children:i}):Object(j.jsxs)(Z.a,{onSubmit:function(e){var t;e.preventDefault(),W(null),M!==$||M.length<=0||$.length<=0?W("Passwords do not match or are empty!"):U.length<=0||I.length<=0?U.length<=0?W("Email length empty"):W("Name length empty"):r((t={name:I,email:U,password:M},function(){var e=Object(O.a)(p.a.mark((function e(r,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:L}),c=n().userAuth.userInfo.token,Y.headers.authorization="Bearer ".concat(c),e.next=6,f.a.put("/api/users/profile/",t,Y);case 6:a=e.sent,r({type:P,payload:a.data}),r({type:g,payload:a.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r(x(w,e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(j.jsxs)(Z.a.Group,{controlId:"name",children:[Object(j.jsx)(Z.a.Label,{children:"Name"}),Object(j.jsx)(Z.a.Control,{type:"name",placeholder:"Enter name",value:I,onChange:function(e){return C(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"email",children:[Object(j.jsx)(Z.a.Label,{children:"Email Address"}),Object(j.jsx)(Z.a.Control,{type:"email",placeholder:"Enter email",value:U,onChange:function(e){return N(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"password",children:[Object(j.jsx)(Z.a.Label,{children:"Password"}),Object(j.jsx)(Z.a.Control,{type:"password",placeholder:"Enter password",value:M,onChange:function(e){return B(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"confirmPassword",children:[Object(j.jsx)(Z.a.Label,{children:"Confirm Password"}),Object(j.jsx)(Z.a.Control,{type:"password",placeholder:"Confirm password",value:$,onChange:function(e){return z(e.target.value)}})]}),Object(j.jsx)(ee.a,{type:"submit",variant:"primary",children:"Update"})]})]}),Object(j.jsxs)(l.a,{md:9,children:[Object(j.jsx)("h2",{className:"mt-5 mt-md-0",children:"My Orders"}),m?Object(j.jsx)(ze,{}):v?Object(j.jsx)(ie,{variant:"danger",children:v}):Object(j.jsxs)(Gt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"DATE"}),Object(j.jsx)("th",{children:"TOTAL"}),Object(j.jsx)("th",{children:"PAID"}),Object(j.jsx)("th",{children:"DELIVERED"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:y.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(j.jsx)("td",{children:e.totalPrice}),Object(j.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsx)("td",{children:Object(j.jsx)(K.LinkContainer,{to:"/order/".concat(e._id),children:Object(j.jsx)(ee.a,{className:"btn-sm",variant:"light",children:"Details"})})})]},e._id)}))})]})]})]})})},Bt=function(e){var t=e.step1,r=e.step2,n=e.step3,c=e.step4;return Object(j.jsxs)(H.a,{className:"justify-content-center mb-4",children:[Object(j.jsx)(H.a.Item,{children:t?Object(j.jsx)(K.LinkContainer,{to:"/login",children:Object(j.jsx)(H.a.Link,{children:Object(j.jsx)("strong",{children:"Login"})})}):Object(j.jsx)(H.a.Link,{disabled:!0,children:"Login"})}),Object(j.jsx)(H.a.Item,{children:r?Object(j.jsx)(K.LinkContainer,{to:"/shipping",children:Object(j.jsx)(H.a.Link,{children:"Shipping"})}):Object(j.jsx)(H.a.Link,{disabled:!0,children:"Shipping"})}),Object(j.jsx)(H.a.Item,{children:n?Object(j.jsx)(K.LinkContainer,{to:"/payment",children:Object(j.jsx)(H.a.Link,{children:"Payment"})}):Object(j.jsx)(H.a.Link,{disabled:!0,children:"Payment"})}),Object(j.jsx)(H.a.Item,{children:c?Object(j.jsx)(K.LinkContainer,{to:"/placeorder",children:Object(j.jsx)(H.a.Link,{children:"Place Order"})}):Object(j.jsx)(H.a.Link,{disabled:!0,children:"Place Order"})})]})},Qt=function(e){var t=e.history,r=Object(h.b)(),c=Object(h.c)((function(e){return e.cart})).shippingAddress,a=Object(n.useState)(""),s=Object(X.a)(a,2),i=s[0],o=s[1],d=Object(n.useState)(""),l=Object(X.a)(d,2),u=l[0],b=l[1],p=Object(n.useState)(""),O=Object(X.a)(p,2),x=O[0],m=O[1],f=Object(n.useState)(""),v=Object(X.a)(f,2),g=v[0],y=v[1];Object(n.useEffect)((function(){c&&(o(c.address),b(c.city),m(c.postalCode),y(c.country))}),[c]);return Object(j.jsxs)("div",{className:"mt-5",children:[Object(j.jsx)(Bt,{step1:!0,step2:!0}),Object(j.jsxs)(ut,{children:[Object(j.jsx)("h2",{children:"Shipping"}),Object(j.jsxs)(Z.a,{onSubmit:function(e){var n;e.preventDefault(),r((n={address:i,city:u,postalCode:x,country:g},function(e){e({type:st,payload:n})})),t.push("/payment")},children:[Object(j.jsxs)(Z.a.Group,{controlId:"address",children:[Object(j.jsx)(Z.a.Label,{children:"Address"}),Object(j.jsx)(Z.a.Control,{type:"text",placeholder:"Enter address",value:i,required:!0,onChange:function(e){return o(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"city",children:[Object(j.jsx)(Z.a.Label,{children:"City"}),Object(j.jsx)(Z.a.Control,{type:"text",placeholder:"Enter city",value:u,required:!0,onChange:function(e){return b(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"postalCode",children:[Object(j.jsx)(Z.a.Label,{children:"Postal Code"}),Object(j.jsx)(Z.a.Control,{type:"text",placeholder:"Enter postal code",value:x,required:!0,onChange:function(e){return m(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"country",children:[Object(j.jsx)(Z.a.Label,{children:"Country"}),Object(j.jsx)(Z.a.Control,{type:"text",placeholder:"Enter country",value:g,required:!0,onChange:function(e){return y(e.target.value)}})]}),Object(j.jsx)(ee.a,{type:"submit",variant:"primary",children:"Continue"})]})]})]})},qt=function(e){var t=e.history,r=Object(h.b)();Object(h.c)((function(e){return e.cart})).shippingAddress||t.push("/shipping");var c=Object(n.useState)("PayPal"),a=Object(X.a)(c,2),s=a[0],i=a[1];return Object(j.jsxs)("div",{className:"mt-5",children:[Object(j.jsx)(Bt,{step1:!0,step2:!0,step3:!0}),Object(j.jsxs)(ut,{children:[Object(j.jsx)("h2",{children:"Payment Method"}),Object(j.jsxs)(Z.a,{onSubmit:function(e){var n;e.preventDefault(),r({type:mt}),r((n=s,function(e){e({type:it,payload:n})})),t.push("/placeorder")},children:[Object(j.jsxs)(Z.a.Group,{controlId:"paymentMethod",children:[Object(j.jsx)(Z.a.Label,{className:"mt-3",as:"legend",children:"Select Method"}),Object(j.jsx)(l.a,{children:Object(j.jsx)(Z.a.Check,{type:"radio",label:"PayPal or Credit Card",id:"PayPal",name:"paymentMethod",value:"PayPal",checked:!0,onChange:function(e){return i(e.target.value)}})})]}),Object(j.jsx)(ee.a,{className:"mt-2",type:"submit",variant:"primary",children:"Continue"})]})]})]})},$t=function(e){var t=e.history,r=Object(h.b)(),c=Object(h.c)((function(e){return e.cart})),a=c.shippingAddress,s=c.paymentMethod,o=c.cartItems,u=function(e){return(Math.round(100*e)/100).toFixed(2)};c.itemsPrice=u(o.reduce((function(e,t){return e+t.price*t.qty}),0)),c.shippingPrice=u(c.itemsPrice>100?0:100),c.taxPrice=u(Number((.15*c.itemsPrice).toFixed(2))),c.totalPrice=(Number(c.itemsPrice)+Number(c.shippingPrice)+Number(c.taxPrice)).toFixed(2);var b=Object(h.c)((function(e){return e.orderCreate})),m=b.order,v=b.success,g=b.error;Object(n.useEffect)((function(){v&&(r({type:at}),t.push("/order/".concat(m._id)))}),[r,t,v,m]);return Object(j.jsxs)("div",{className:"mt-5",children:[Object(j.jsx)(Bt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:8,children:Object(j.jsxs)(dt.a,{variant:"flush",children:[Object(j.jsxs)(dt.a.Item,{children:[Object(j.jsx)("h3",{children:"Shipping"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Address: "}),a.address,",",a.city,",",a.postalCode,",",a.country]})]}),Object(j.jsxs)(dt.a.Item,{children:[Object(j.jsx)("h3",{children:"Payment Method"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Method: "}),s]})]}),Object(j.jsxs)(dt.a.Item,{children:[Object(j.jsx)("h3",{children:"Order Items"}),0===o.length?Object(j.jsx)(ut,{children:"Your cart is empty"}):Object(j.jsx)(dt.a,{variant:"flush",children:o.map((function(e,t){return Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{className:"mb-sm-3",md:1,children:Object(j.jsx)(We.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(j.jsx)(l.a,{children:Object(j.jsx)(i.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(j.jsxs)(l.a,{md:4,children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},e._id)}))})]})]})}),Object(j.jsx)(l.a,{md:4,children:Object(j.jsx)(Fe.a,{children:Object(j.jsxs)(dt.a,{variant:"flush",children:[Object(j.jsx)(dt.a.Item,{className:"pt-4",children:Object(j.jsx)("h2",{children:"Order Summary"})}),Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Items"}),Object(j.jsxs)(l.a,{children:["$",c.itemsPrice]})]})}),Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Shipping"}),Object(j.jsxs)(l.a,{children:["$",c.shippingPrice]})]})}),Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Tax"}),Object(j.jsxs)(l.a,{children:["$",c.taxPrice]})]})}),Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Total"}),Object(j.jsxs)(l.a,{children:["$",c.totalPrice]})]})}),g?Object(j.jsx)(dt.a.Item,{children:Object(j.jsx)(ut,{variant:"danger",children:g})}):"",Object(j.jsx)(dt.a.Item,{children:Object(j.jsx)(ee.a,{type:"button",className:"btn-block",disabled:0===o.length,onClick:function(){r(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:pt}),c=n().userAuth.userInfo.token,Ft.headers.authorization="Bearer ".concat(c),t.next=6,f.a.post("/api/orders",e,Ft);case 6:a=t.sent,r({type:Ot,payload:a.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r(x(xt,t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()}({orderItems:o,shippingAddress:a,paymentMethod:s}))},children:"Place Order"})})]})})})]})]})},zt=r(78),Vt=function(e){var t=e.history,r=e.match.params.id,c=Object(n.useState)(!1),a=Object(X.a)(c,2),s=a[0],o=a[1],u=Object(h.b)(),b=Object(h.c)((function(e){return e.userAuth})).userInfo,m=Object(h.c)((function(e){return e.orderDetails})),v=m.order,g=m.loading,y=m.error,E=Object(h.c)((function(e){return e.orderPay})),S=E.loading,I=E.success,C=Object(h.c)((function(e){return e.orderDeliver})),_=C.loading,R=C.success,A=C.error,k=function(e){return(Math.round(100*e)/100).toFixed(2)};v&&(v.itemsPrice=Number(k(v.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0))),v.totalPrice=k(v.totalPrice)),Object(n.useEffect)((function(){return function(){var e=document.querySelector('script[title="Paypal"]');e&&document.body.removeChild(e)}}),[]),Object(n.useEffect)((function(){b||t.push("/login");var e=function(){var e=Object(O.a)(p.a.mark((function e(){var t,r,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/config/paypal");case 2:if(t=e.sent,r=t.data,!(n=document.querySelector('script[title="Paypal"]'))){e.next=7;break}return e.abrupt("return",n);case 7:return(c=document.createElement("script")).type="text/javascript",c.title="Paypal",c.async=!0,c.src="https://www.paypal.com/sdk/js?client-id=".concat(r),c.onload=function(){console.log("OnLoad Paypal"),o(!0)},document.body.appendChild(c),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),!v||v&&v._id!==r||I||R?(u({type:yt}),u({type:Ct}),u({type:Nt}),u(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ft}),c=n().userAuth.userInfo.token,Ft.headers.authorization="Bearer ".concat(c),t.next=6,f.a.get("/api/orders/".concat(e),Ft);case 6:a=t.sent,r({type:vt,payload:a.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r(x(gt,t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()}(r))):v&&!v.isPaid&&(document.querySelector('script[title="Paypal"]')||(console.log("Loading again?"),e()))}),[t,b,u,v,r,I,R]);return Object(j.jsx)("div",{className:"mt-5",children:g?Object(j.jsx)(ze,{}):y?Object(j.jsx)(ie,{variant:"danger",children:y}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)("i",{className:"fas fa-chevron-left"})," ",Object(j.jsx)(i.Link,{to:"/profile",children:" My Orders"}),b.isAdmin&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("i",{className:"fas fa-chevron-left ml-4"})," ",Object(j.jsx)(i.Link,{to:"/admin/orderlist",children:" Admin Orders"})]})]}),Object(j.jsxs)("h1",{children:["Order ",v._id]}),Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:8,children:Object(j.jsxs)(dt.a,{variant:"flush",children:[Object(j.jsxs)(dt.a.Item,{children:[Object(j.jsx)("h3",{children:"Shipping"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Name: "})," ",v.user.name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Email: "})," ",Object(j.jsx)("a",{href:"mailto:".concat(v.user.email),children:v.user.email})]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Address: "}),v.shippingAddress.address,",",v.shippingAddress.city,",",v.shippingAddress.postalCode,",",v.shippingAddress.country]}),v.isDelivered?Object(j.jsxs)(ie,{variant:"success",children:["Delivered at ",v.deliveredAt]}):Object(j.jsx)(ie,{variant:"danger",children:"Not Delivered"})]}),Object(j.jsxs)(dt.a.Item,{children:[Object(j.jsx)("h3",{children:"Payment Method"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Method: "}),v.paymentMethod]}),v.isPaid?Object(j.jsxs)(ie,{variant:"success",children:["Paid on ",v.paidAt]}):Object(j.jsx)(ie,{variant:"danger",children:"Not Paid"})]}),Object(j.jsxs)(dt.a.Item,{children:[Object(j.jsx)("h3",{children:"Order Items"}),0===v.orderItems.length?Object(j.jsx)(ie,{children:"Order is empty"}):Object(j.jsx)(dt.a,{variant:"flush",children:v.orderItems.map((function(e){return Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{className:"mb-sm-3",md:1,children:Object(j.jsx)(We.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(j.jsx)(l.a,{children:Object(j.jsx)(i.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(j.jsxs)(l.a,{md:4,children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},e._id)}))})]})]})}),Object(j.jsx)(l.a,{md:4,children:Object(j.jsx)(Fe.a,{children:Object(j.jsxs)(dt.a,{variant:"flush",children:[Object(j.jsx)(dt.a.Item,{className:"pt-4",children:Object(j.jsx)("h2",{children:"Order Summary"})}),Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Items"}),Object(j.jsxs)(l.a,{children:["$",v.itemsPrice]})]})}),Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Shipping"}),Object(j.jsxs)(l.a,{children:["$",v.shippingPrice]})]})}),Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Tax"}),Object(j.jsxs)(l.a,{children:["$",v.taxPrice]})]})}),Object(j.jsx)(dt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Total"}),Object(j.jsxs)(l.a,{children:["$",v.totalPrice]})]})}),!v.isPaid&&Object(j.jsxs)(dt.a.Item,{children:[S&&Object(j.jsx)(ze,{}),s?Object(j.jsx)(zt.PayPalButton,{amount:v.totalPrice,onSuccess:function(e){console.log(e),u(function(e,t){return function(){var r=Object(O.a)(p.a.mark((function r(n,c){var a,s;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:Et}),a=c().userAuth.userInfo.token,Ft.headers.authorization="Bearer ".concat(a),r.next=6,f.a.put("/api/orders/".concat(e,"/pay"),t,Ft);case 6:s=r.sent,n({type:St,payload:s.data}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),n(x(It,r.t0));case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e,t){return r.apply(this,arguments)}}()}(r,e))},onError:function(e){console.log("On Error"),console.log(e)},catchError:function(e){console.log("Catch Error"),console.log(e)}}):Object(j.jsx)(ze,{})]}),b&&b.isAdmin&&v.isPaid&&!v.isDelivered?Object(j.jsx)(dt.a.Item,{children:Object(j.jsx)(ee.a,{type:"button",className:"btn btn-block",onClick:function(){u(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:wt}),c=n().userAuth.userInfo.token,Ft.headers.authorization="Bearer ".concat(c),t.next=6,f.a.put("/api/orders/".concat(e,"/deliver"),{},Ft);case 6:a=t.sent,r({type:Dt,payload:a.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r(x(Ut,t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()}(r))},children:"Mark as Delivered"})}):_?Object(j.jsx)(ze,{}):A?Object(j.jsx)(ie,{variant:"danger",children:"Error submitting deliver request"}):""]})})})]})]})})},Yt=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.userList})),r=t.loading,c=t.error,a=t.users,s=Object(h.c)((function(e){return e.userDelete})),i=s.loading,o=s.success,d=s.error;Object(n.useEffect)((function(){return function(){e({type:Q})}}),[e]),Object(n.useEffect)((function(){e(function(){var e=Object(O.a)(p.a.mark((function e(t,r){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:U}),n=r().userAuth.userInfo.token,Y.headers.authorization="Bearer ".concat(n),e.next=6,f.a.get("/api/users",Y);case 6:c=e.sent,t({type:N,payload:c.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t(x(F,e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}())}),[e,o]);var l=function(t){window.confirm("Are you sure?")&&e(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:G}),c=n().userAuth.userInfo.token,Y.headers.authorization="Bearer ".concat(c),t.next=6,f.a.delete("/api/users/".concat(e),Y);case 6:a=t.sent,r({type:M,payload:a.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r(x(B,t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))};return Object(j.jsxs)("div",{className:"mt-5",children:[Object(j.jsx)("h3",{children:"Users"}),i?Object(j.jsx)(ze,{}):d?Object(j.jsx)(ie,{variant:"danger",children:"Error deleting user"}):o?Object(j.jsx)(ie,{variant:"success",children:"User deleted successfully"}):"",r?Object(j.jsx)(ze,{}):c?Object(j.jsx)(ie,{variant:"danger",children:c}):Object(j.jsxs)(Gt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"NAME"}),Object(j.jsx)("th",{children:"EMAIL"}),Object(j.jsx)("th",{children:"ADMIN"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:a.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:Object(j.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(j.jsx)("td",{children:e.isAdmin?Object(j.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsxs)("td",{children:[Object(j.jsx)(K.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(j.jsx)(ee.a,{variant:"light",className:"btn-sm",children:Object(j.jsx)("i",{className:"fas fa-edit"})})}),Object(j.jsx)(ee.a,{variant:"danger",className:"btn-sm",onClick:function(){l(e._id)},children:Object(j.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})},Jt=function(e){var t=e.match,r=e.history,c=t.params.id,a=Object(h.b)(),s=Object(n.useState)(""),o=Object(X.a)(s,2),d=o[0],l=o[1],u=Object(n.useState)(""),b=Object(X.a)(u,2),m=b[0],v=b[1],g=Object(n.useState)(!1),y=Object(X.a)(g,2),E=y[0],S=y[1],I=Object(h.c)((function(e){return e.userProfile})),C=I.loading,_=I.error,R=I.profile,L=Object(h.c)((function(e){return e.userUpdate})),P=L.loading,w=L.error,D=L.success;Object(n.useEffect)((function(){var e;D?(a({type:V}),r.push("/admin/userlist")):R&&R._id===c?(console.log(R),l(R.name),v(R.email),S(R.isAdmin)):a((e=c,function(){var t=Object(O.a)(p.a.mark((function t(r,n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:A}),c=n().userAuth.userInfo.token,Y.headers.authorization="Bearer ".concat(c),t.next=6,f.a.get("/api/users/".concat(e),Y);case 6:a=t.sent,r({type:k,payload:a.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r(x(T,t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()))}),[a,R,c,D,r]);var U=function(e){var t;e.preventDefault(),a((t={_id:c,name:d,email:m,isAdmin:E},function(){var e=Object(O.a)(p.a.mark((function e(r,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:q}),c=n().userAuth.userInfo.token,Y.headers.authorization="Bearer ".concat(c),e.next=6,f.a.put("/api/users/".concat(t._id),t,Y);case 6:a=e.sent,r({type:$,payload:a.data}),r({type:k,payload:a.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r(x(z,e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.Link,{to:"/admin/userlist",className:"btn btn-light my-3",children:"Go Back"}),Object(j.jsx)("div",{children:Object(j.jsxs)(ut,{children:[Object(j.jsx)("h3",{children:"Edit User"}),P&&Object(j.jsx)(ze,{}),w&&Object(j.jsx)(ie,{variant:"danger",children:w}),C?Object(j.jsx)(ze,{}):_?Object(j.jsx)(ie,{variant:"danger",children:_}):Object(j.jsxs)(Z.a,{onSubmit:U,children:[Object(j.jsxs)(Z.a.Group,{controlId:"name",children:[Object(j.jsx)(Z.a.Label,{children:"Name"}),Object(j.jsx)(Z.a.Control,{type:"name",placeholder:"Enter Name",value:d,onChange:function(e){return l(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"email",children:[Object(j.jsx)(Z.a.Label,{children:"Email Address"}),Object(j.jsx)(Z.a.Control,{type:"email",placeholder:"Enter Email",value:m,onChange:function(e){return v(e.target.value)}})]}),Object(j.jsx)(Z.a.Group,{controlId:"isAdmin",children:Object(j.jsx)(Z.a.Check,{type:"checkbox",label:"Is Admin",checked:E,onChange:function(e){return S(e.target.checked)}})}),Object(j.jsx)(ee.a,{onClick:U,type:"submit",variant:"primary",children:"Update"})]})]})})]})},Ht=function(e){var t=e.match,r=e.history,c=t.params.pageNumber||1,a=Object(h.b)(),s=Object(h.c)((function(e){return e.userAuth})).userInfo,o=Object(h.c)((function(e){return e.productList})),u=o.loading,b=o.error,m=o.products,v=o.pages,g=o.page,y=Object(h.c)((function(e){return e.productDelete})),E=y.loading,S=y.error,I=y.success,C=Object(h.c)((function(e){return e.productCreate})),_=C.loading,R=C.error,A=C.success,k=C.product;Object(n.useEffect)((function(){return function(){a({type:Te})}}),[a]),Object(n.useEffect)((function(){a({type:fe}),A?r.push("/admin/product/".concat(k._id,"/edit")):a(Ue("",c))}),[r,t,a,I,A,k,c]);var T=function(e){window.confirm("Are you sure?")&&a(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,n){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Re}),c=n().userAuth.userInfo.token,De.headers.authorization="Bearer ".concat(c),t.next=6,f.a.delete("/api/products/".concat(e),De);case 6:r({type:Ae}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(x(ke,t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(j.jsxs)("div",{className:"mt-4",children:[Object(j.jsxs)(d.a,{className:"align-items-center",children:[Object(j.jsx)(l.a,{children:Object(j.jsx)("h3",{children:"Products"})}),Object(j.jsx)(l.a,{className:"text-right",children:Object(j.jsxs)(ee.a,{className:"my-3",onClick:function(){a(function(){var e=Object(O.a)(p.a.mark((function e(t,r){var n,c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Oe}),n=r().userAuth.userInfo.token,De.headers.authorization="Bearer ".concat(n),e.next=6,f.a.post("/api/products/",{},De);case 6:if(c=e.sent,void 0!==(a=c.data)){e.next=11;break}return t(x(me,{message:"Product creation failed"})),e.abrupt("return");case 11:t({type:xe,payload:a}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t(x(me,e.t0));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}())},children:[Object(j.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),E?Object(j.jsx)(ze,{}):b?Object(j.jsx)(ie,{variant:"danger",children:S}):"",I?Object(j.jsx)(ie,{variant:"success",children:"Product successfully deleted"}):"",_?Object(j.jsx)(ze,{}):R?Object(j.jsx)(ie,{variant:"danger",children:R}):"",u?Object(j.jsx)(ze,{}):b?Object(j.jsx)(ie,{variant:"danger",children:b}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(Gt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"NAME"}),Object(j.jsx)("th",{children:"PRICE"}),Object(j.jsx)("th",{children:"CATEGORY"}),Object(j.jsx)("th",{children:"BRAND"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:m.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:Object(j.jsx)(i.Link,{to:"/admin/product/".concat(e._id,"/edit"),children:e.name})}),Object(j.jsxs)("td",{children:["$",e.price]}),Object(j.jsx)("td",{children:e.category}),Object(j.jsx)("td",{children:e.brand}),Object(j.jsxs)("td",{children:[Object(j.jsx)(K.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(j.jsx)(ee.a,{variant:"light",className:"btn-sm",children:Object(j.jsx)("i",{className:"fas fa-edit"})})}),Object(j.jsx)(ee.a,{variant:"danger",className:"btn-sm",onClick:function(){T(e._id)},children:Object(j.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(j.jsx)(Je,{pages:v,page:g,isAdmin:s&&s.isAdmin})]})]})},Wt=function(e){var t=e.match,r=e.history,c=t.params.id,a=Object(h.b)(),s=Object(n.useState)(""),o=Object(X.a)(s,2),d=o[0],l=o[1],u=Object(n.useState)(0),b=Object(X.a)(u,2),m=b[0],v=b[1],g=Object(n.useState)(""),y=Object(X.a)(g,2),E=y[0],S=y[1],I=Object(n.useState)(""),C=Object(X.a)(I,2),_=C[0],R=C[1],A=Object(n.useState)(""),k=Object(X.a)(A,2),T=k[0],L=k[1],P=Object(n.useState)(0),w=Object(X.a)(P,2),D=w[0],U=w[1],N=Object(n.useState)(""),F=Object(X.a)(N,2),G=F[0],M=F[1],B=Object(n.useState)(!1),Q=Object(X.a)(B,2),q=Q[0],$=Q[1],z=Object(h.c)((function(e){return e.productDetails})),V=z.loading,Y=z.error,J=z.product,H=Object(h.c)((function(e){return e.productUpdate})),W=H.loading,K=H.error,te=H.success;Object(n.useEffect)((function(){te?(a({type:Ee}),a({type:pe}),r.push("/admin/productlist")):J&&J._id===c?(l(J.name),v(J.price),S(J.image),R(J.brand),L(J.category),U(J.countInStock),M(J.description)):a(Ne(c))}),[r,a,c,J,te]);var re=function(){var e=Object(O.a)(p.a.mark((function e(t){var r,n,c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(n=new FormData).append("image",r),$(!0),e.prev=4,e.next=7,f.a.post("/api/upload",n,{headers:{"Content-Type":"multipart/form-data"}});case 7:c=e.sent,a=c.data,S(a),$(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0),$(!1);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){e.preventDefault(),a(function(e){return function(){var t=Object(O.a)(p.a.mark((function t(r,n){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ve}),c=n().userAuth.userInfo.token,De.headers.authorization="Bearer ".concat(c),t.next=6,f.a.put("/api/products/".concat(e._id),e,De);case 6:r({type:ge}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(x(ye,t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:c,name:d,price:m,image:E,brand:_,category:T,description:G,countInStock:D}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.Link,{to:"/admin/productlist",className:"btn btn-light my-3",children:"Go Back"}),Object(j.jsx)("div",{children:Object(j.jsxs)(ut,{children:[Object(j.jsx)("h3",{children:"Edit Product"}),W?Object(j.jsx)(ze,{}):K?Object(j.jsx)(ie,{variant:"error",children:K}):"",V?Object(j.jsx)(ze,{}):Y?Object(j.jsx)(ie,{variant:"danger",children:Y}):Object(j.jsxs)(Z.a,{onSubmit:ne,children:[Object(j.jsxs)(Z.a.Group,{controlId:"name",children:[Object(j.jsx)(Z.a.Label,{children:"Name"}),Object(j.jsx)(Z.a.Control,{type:"name",placeholder:"Enter Name",value:d,onChange:function(e){return l(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"price",children:[Object(j.jsx)(Z.a.Label,{children:"Price"}),Object(j.jsx)(Z.a.Control,{type:"number",placeholder:"Enter Price",value:m,onChange:function(e){return v(Number(e.target.value))}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"image",children:[Object(j.jsx)(Z.a.Label,{children:"Image"}),Object(j.jsx)(Z.a.Control,{type:"text",placeholder:"Enter Image URL",value:E,onChange:function(e){return S(e.target.value)}}),Object(j.jsx)(Z.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:re}),q&&Object(j.jsx)(ze,{})]}),Object(j.jsxs)(Z.a.Group,{controlId:"brand",children:[Object(j.jsx)(Z.a.Label,{children:"Brand"}),Object(j.jsx)(Z.a.Control,{type:"text",placeholder:"Enter Brand",value:_,onChange:function(e){return R(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"category",children:[Object(j.jsx)(Z.a.Label,{children:"Category"}),Object(j.jsx)(Z.a.Control,{type:"text",placeholder:"Enter Category",value:T,onChange:function(e){return L(e.target.value)}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"countInStock",children:[Object(j.jsx)(Z.a.Label,{children:"CountInStock"}),Object(j.jsx)(Z.a.Control,{type:"number",placeholder:"Enter Count In Stock",value:D,onChange:function(e){return U(Number(e.target.value))}})]}),Object(j.jsxs)(Z.a.Group,{controlId:"description",children:[Object(j.jsx)(Z.a.Label,{children:"Description"}),Object(j.jsx)(Z.a.Control,{type:"text",placeholder:"Enter Description",value:G,onChange:function(e){return M(e.target.value)}})]}),Object(j.jsx)(ee.a,{onClick:ne,type:"submit",variant:"primary",children:"Update"})]})]})})]})},Kt=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.orderList})),r=t.loading,c=t.error,a=t.orders;return Object(n.useEffect)((function(){e(function(){var e=Object(O.a)(p.a.mark((function e(t,r){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Tt}),n=r().userAuth.userInfo.token,Ft.headers.authorization="Bearer ".concat(n),e.next=6,f.a.get("/api/orders",Ft);case 6:c=e.sent,t({type:Lt,payload:c.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t(x(Pt,e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}())}),[e]),Object(j.jsxs)("div",{className:"mt-5",children:[Object(j.jsx)("h3",{children:"Orders"}),r?Object(j.jsx)(ze,{}):c?Object(j.jsx)(ie,{variant:"danger",children:c}):Object(j.jsxs)(Gt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"USER"}),Object(j.jsx)("th",{children:"DATE"}),Object(j.jsx)("th",{children:"TOTAL"}),Object(j.jsx)("th",{children:"PAID"}),Object(j.jsx)("th",{children:"DELIVERED"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:a.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.user&&e.user.name}),Object(j.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(j.jsx)("td",{children:e.totalPrice}),Object(j.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsx)("td",{children:Object(j.jsx)(K.LinkContainer,{to:"/order/".concat(e._id),children:Object(j.jsx)(ee.a,{variant:"light",className:"btn-sm",children:"Details"})})})]},e._id)}))})]})]})};var Xt=function(){return Object(j.jsx)(i.BrowserRouter,{children:Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(re,{}),Object(j.jsxs)(s.a,{className:"main",children:[Object(j.jsx)(o.d,{path:"/",component:Xe,exact:!0}),Object(j.jsx)(o.d,{path:"/page/:pageNumber",component:Xe,exact:!0}),Object(j.jsx)(o.d,{path:"/search/:keyword/page/:pageNumber",component:Xe,exact:!0}),Object(j.jsx)(o.d,{path:"/search/:keyword",component:Xe,exact:!0}),Object(j.jsx)(o.d,{path:"/product/:id",component:lt}),Object(j.jsx)(o.d,{path:"/cart",component:jt}),Object(j.jsx)(o.d,{path:"/login",component:ht}),Object(j.jsx)(o.d,{path:"/register",component:bt}),Object(j.jsx)(o.d,{path:"/profile",component:Mt}),Object(j.jsx)(o.d,{path:"/shipping",component:Qt}),Object(j.jsx)(o.d,{path:"/payment",component:qt}),Object(j.jsx)(o.d,{path:"/placeorder",component:$t}),Object(j.jsx)(o.d,{path:"/order/:id",component:Vt}),Object(j.jsx)(oe,{path:"/admin/userlist",component:Yt}),Object(j.jsx)(oe,{path:"/admin/user/:id/edit",component:Jt}),Object(j.jsx)(oe,{path:"/admin/productlist",component:Ht,exact:!0}),Object(j.jsx)(oe,{path:"/admin/productlist/:pageNumber",component:Ht,exact:!0}),Object(j.jsx)(oe,{path:"/admin/product/:id/edit",component:Wt}),Object(j.jsx)(oe,{path:"/admin/orderlist",component:Kt})]}),Object(j.jsx)(u,{})]})})},Zt=r(34),er=r(79),tr=r(80),rr=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],nr=localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},cr=localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):{},ar=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,sr={productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return{loading:!0,products:[]};case le:return{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page};case je:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(ne.a)({loading:!0},e);case he:return{loading:!1,product:t.payload};case be:return{loading:!1,error:t.payload,product:{reviews:[]}};case pe:return{product:{reviews:[]}};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return{loading:!0};case Ae:return{loading:!1,success:!0};case ke:return{loading:!1,error:t.payload};case Te:return{};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{loading:!0};case xe:return{loading:!1,success:!0,product:t.payload};case me:return{loading:!1,error:t.payload};case fe:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return{loading:!0};case ge:return{loading:!1,success:!0};case ye:return{loading:!1,error:t.payload};case Ee:return{};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return{loading:!0};case Ie:return{loading:!1,success:!0};case Ce:return{loading:!1,error:t.payload};case _e:return{};default:return e}},productListTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return{loading:!0,products:[]};case Pe:return{loading:!1,products:t.payload};case we:return{loading:!1,error:t.payload};default:return e}}},ir={cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{},paymentMethod:{}},t=arguments.length>1?arguments[1]:void 0,r={};switch(t.type){case Ze:return{loading:!1,cartItems:e.cartItems};case et:var n=t.payload.product,c=n._id,a=e.cartItems.find((function(e){return e._id===c}));return r=a?Object(ne.a)(Object(ne.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e._id===c?n:e}))}):Object(ne.a)(Object(ne.a)({},e),{},{cartItems:[].concat(Object(Ve.a)(e.cartItems),[n])}),localStorage.setItem("cartItems",JSON.stringify(r.cartItems)),r;case tt:return{loading:!1,error:t.payload};case rt:return Object(ne.a)(Object(ne.a)({},e),{},{loading:!0});case nt:var s=t.payload.product;return r=Object(ne.a)(Object(ne.a)({},e),{},{loading:!1,cartItems:e.cartItems.filter((function(e){return e._id!==s._id}))}),localStorage.setItem("cartItems",JSON.stringify(r.cartItems)),r;case ct:return Object(ne.a)(Object(ne.a)({},e),{},{loading:!1,error:t.payload});case st:return localStorage.setItem("shippingAddress",JSON.stringify(t.payload)),Object(ne.a)(Object(ne.a)({},e),{},{shippingAddress:t.payload});case it:return localStorage.setItem("paymentMethod",JSON.stringify(t.payload)),Object(ne.a)(Object(ne.a)({},e),{},{paymentMethod:t.payload});case at:return localStorage.removeItem("cartItems"),Object(ne.a)(Object(ne.a)({},e),{},{cartItems:[]});default:return e}}},or={userAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userInfo:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{loading:!0};case g:var r=t.payload;return localStorage.setItem("userInfo",JSON.stringify(r)),{loading:!1,userInfo:r};case y:return{loading:!1,error:t.payload};case C:return{loading:!0};case _:var n=t.payload;return localStorage.setItem("userInfo",JSON.stringify(n)),{loading:!1,userInfo:n};case R:return{loading:!1,error:t.payload};case E:return{loading:!0};case S:return localStorage.removeItem("userInfo"),{loading:!1,userInfo:null};case I:return{loading:!1,error:t.payload};default:return e}},userProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{profile:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(ne.a)(Object(ne.a)({},e),{},{loading:!0});case k:return{loading:!1,profile:t.payload};case T:return{loading:!1,error:t.payload};case L:return Object(ne.a)(Object(ne.a)({},e),{},{loading:!0});case P:return{loading:!1,profile:t.payload,success:!0};case w:return{loading:!1,error:t.payload};case D:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case N:return{loading:!1,users:t.payload};case F:return{loading:!1,error:t.payload};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return{loading:!0};case M:return{loading:!1,success:!0};case B:return{loading:!1,error:t.payload};case Q:return{};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return{loading:!0};case $:return{loading:!1,user:t.payload,success:!0};case z:return{loading:!1,error:t.payload};case V:return{user:{}};default:return e}}},dr={orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return{loading:!0};case Ot:return{loading:!1,success:!0,order:t.payload};case xt:return{loading:!1,error:t.payload};case mt:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ft:return Object(ne.a)(Object(ne.a)({},e),{},{loading:!0});case vt:return{loading:!1,order:t.payload};case gt:return{loading:!1,error:t.payload};case yt:return{};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et:return{loading:!0};case St:return{loading:!1,success:!0};case It:return{loading:!1,error:t.payload};case Ct:return{};default:return e}},orderMyList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{myOrders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _t:return{loading:!0};case Rt:return{loading:!1,myOrders:t.payload};case At:return{loading:!1,error:t.payload};case kt:return{myOrders:[]};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tt:return{loading:!0};case Lt:return{loading:!1,orders:t.payload};case Pt:return{loading:!1,error:t.payload};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wt:return{loading:!0};case Dt:return{loading:!1,success:!0};case Ut:return{loading:!1,error:t.payload};case Nt:return{};default:return e}}},lr=Object(ne.a)(Object(ne.a)(Object(ne.a)(Object(ne.a)({},sr),ir),or),dr),jr=Object(Zt.combineReducers)(lr),ur=[er.a],hr={cart:{cartItems:rr,shippingAddress:nr,paymentMethod:cr},userAuth:{userInfo:ar}},br=Object(Zt.createStore)(jr,hr,Object(tr.composeWithDevTools)(Zt.applyMiddleware.apply(void 0,ur)));a.a.render(Object(j.jsx)(h.a,{store:br,children:Object(j.jsx)(Xt,{})}),document.getElementById("root"))},86:function(e,t,r){},87:function(e,t,r){}},[[116,1,2]]]);
//# sourceMappingURL=main.38c30fdf.chunk.js.map